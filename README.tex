\documentclass[a4paper,10pt]{paper}

\usepackage[utf8]{inputenc}
\setlength{\parindent}{0pt}
%% say no to serif
\renewcommand*\familydefault{\sfdefault}
\usepackage{amsmath}
\usepackage[inner=2.5cm,outer=2.5cm,bottom=2.5cm,top=2.5cm]{geometry}

%% allow referencing of enumerated lists
\usepackage{enumitem}

%% bibliography
\usepackage{nameref}
\usepackage[british]{babel}
\usepackage[
    style=apa,
    backend=biber,
    url=true, 
    doi=false,
    eprint=false,
    bibencoding=utf8
]{biblatex}
\DeclareLanguageMapping{british}{british-apa}
\DeclareFieldFormat{apacase}{#1}  % otherwise apa sentence cases
\addbibresource{corpora.bib}

% ==========
% non-R code
% ==========

\RequirePackage{listings}
\lstset{
    basicstyle=\footnotesize,
    xleftmargin=1.4em,
    framextopmargin=10pt,
    framexbottommargin=10pt,
    frame=tb, framerule=0pt,
}

\date{}

\author{
    \scriptsize
    \parbox{0.25\textwidth}{
       \small
       Viola Wiegand \\
       \scriptsize
       Centre for Corpus Research\\ College of Arts and Law\\ University of Birmingham \\
       \texttt{v.wiegand@bham.ac.uk}
    }
    \parbox{0.25\textwidth}{
       \small
       Anna Čermáková \\
       \scriptsize
       Centre for Corpus Research\\ College of Arts and Law\\ University of Birmingham
%       \texttt{@bham.ac.uk}
    }
    \parbox{0.25\textwidth}{
       \small
       Michaela Mahlberg \\
       \scriptsize
       Centre for Corpus Research\\ College of Arts and Law\\ University of Birmingham \\
       \texttt{m.a.mahlberg@bham.ac.uk}
    }
    \\ \\
    \parbox{0.30\textwidth}{
       \small
       Jamie Lentin \\
       \scriptsize
       Shuttle Thread\\ Manchester \\
       \texttt{jamie.lentin@shuttlethread.com}
    }
    \parbox{0.30\textwidth}{
        \small Anthony Hennessey \\
        \scriptsize
        Statistics and Probability\\ School of Mathematical Sciences\\ University of Nottingham \\
        \texttt{anthony.hennessey@nottingham.ac.uk}
    }
}

\title{README}

\begin{document}

\nocite{*}

\maketitle

\tableofcontents

\section{Cleaning}
The sources were the Gutenberg plain text UTF-8 files.

\begin{enumerate}
    \item \label{lst:line_endings} Convert to unix line endings.
    \item \label{lst:non_auth} Remove non-authorial text.
    \item \label{lst:title} Reformat the book title and author to make consistent across all texts. 
    \item \label{lst:chapters} Reformat chapter headings to make consistent across all texts. 
    \item \label{lst:ascii_7} Convert to 7-bit ASCII.
\end{enumerate}

Steps \ref{lst:non_auth}, \ref{lst:title} and \ref{lst:chapters} were done manually.

Step \ref{lst:line_endings} was achieved using the following command
\begin{verbatim} for f in ChiLit/*.txt; do dos2unix -m $f; done \end{verbatim}

Some specifics of step \ref{lst:non_auth}:
\begin{itemize}
    \item Tables of content are removed.
    \item Lists of illustrations are removed.
    \item Any preface text attributed to a person other than the author is removed. When attribution is unclear the text is left.
    \item Transcriber notes are removed.
    \item In the texts illustrations are usually indicated by text enclosed in square brackets.
          Where this text includes a caption the caption is kept, for example
        \begin{verbatim} [Illustration: THE WONDERSTONE.] \end{verbatim}
          becomes
        \begin{verbatim} [THE WONDERSTONE.] \end{verbatim}
          Where there is no authorial caption the construct is deleted.
          All the following example would be deleted
        \begin{verbatim} [Illustration] \end{verbatim}
        \begin{verbatim} [Illustration: Chapter Seventeen] \end{verbatim}
        \begin{verbatim} [Illustration: Page 91] \end{verbatim}
\end{itemize}

Step \ref{lst:ascii_7} unifies the use of hyphens, apostrophes and quotes across the texts; 7-bit ASCII\footnote{\url{https://tools.ietf.org/html/rfc20}} is a subset of UTF-8\footnote{\url{https://tools.ietf.org/html/rfc3629}} and so the files may be treated as UTF-8.

Step \ref{lst:ascii_7} was achieved using Version 1.30 of the Perl module \texttt{Text::Unidecode}\footnote{\url{http://search.cpan.org/perldoc?Text::Unidecode}} with the following command
\begin{verbatim} perl -C -MText::Unidecode -n -i -e'print unidecode($_)' *.txt \end{verbatim}

\section{Corpora}

\subsection{ChiLit - Children's Literature}
From work by Anna Čermáková.

\subsubsection{Included texts}
\printbibliography[heading=none,keyword=ChiLit]

\end{document}
